# PRD 0011: QR ì½”ë“œ VIP ë“±ë¡ ì‹œìŠ¤í…œ

## ë¬¸ì„œ ì •ë³´

| í•­ëª© | ë‚´ìš© |
|------|------|
| PRD ID | 0011 |
| ì œëª© | QR ì½”ë“œ VIP ë“±ë¡ ì‹œìŠ¤í…œ |
| ìƒíƒœ | Draft |
| ì‘ì„±ì¼ | 2025-12-18 |
| ì‘ì„±ì | Claude |
| ê´€ë ¨ ë¸”ëŸ­ | Auth, Admin, Email, Worker |

---

## 1. ê°œìš”

### 1.1 ëª©ì 

QR ì½”ë“œë¥¼ í†µí•œ VIP íšŒì› ë“±ë¡ ì‹œìŠ¤í…œ êµ¬í˜„. ê´€ë¦¬ìê°€ ìƒì„±í•œ QR ì½”ë“œë¡œ ê°€ì…í•œ ì‚¬ìš©ìëŠ” VIPë¡œ ë¶„ë¥˜ë˜ë©°, ì¸ì¦ ì½”ë“œ í™•ì¸ í›„ ê´€ë¦¬ì ìŠ¹ì¸ì„ ê±°ì³ í™œì„±í™”ë©ë‹ˆë‹¤.

### 1.2 ë²”ìœ„

- QR ì½”ë“œ ìƒì„± ë° ê´€ë¦¬ (Admin)
- QR ì½”ë“œ ê¸°ë°˜ VIP íšŒì›ê°€ì…
- ì¸ì¦ ì½”ë“œ ë°œê¸‰ ë° í™•ì¸
- VIP ì„ê³„ê°’ ë„ë‹¬ ì‹œ ìë™ ì´ˆëŒ€ ì´ë©”ì¼ ë°œì†¡
- SMTP ì´ë©”ì¼ ì—°ë™

### 1.3 ë¹„ë²”ìœ„

- QR ì½”ë“œ ìŠ¤ìº” ëª¨ë°”ì¼ ì•±
- SMS ì¸ì¦
- OAuth ì†Œì…œ ë¡œê·¸ì¸ ì—°ë™

---

## 2. ì‚¬ìš©ì íë¦„ (User Flow)

### 2.1 QR ì½”ë“œ ê°€ì… ì›Œí¬í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        QR ì½”ë“œ VIP ê°€ì… íë¦„                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[ê´€ë¦¬ì]                    [ì‚¬ìš©ì]                    [ì‹œìŠ¤í…œ]
    â”‚                          â”‚                          â”‚
    â”‚ 1. QR ì½”ë“œ ìƒì„±          â”‚                          â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
    â”‚                          â”‚                          â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚    QR ì½”ë“œ ë°œê¸‰          â”‚                          â”‚
    â”‚    (WSOPTV-VIP-XXXX)     â”‚                          â”‚
    â”‚                          â”‚                          â”‚
    â”‚     QR ì½”ë“œ ì „ë‹¬         â”‚                          â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                          â”‚
    â”‚     (ì˜¤í”„ë¼ì¸/ë©”ì‹œì§€)     â”‚                          â”‚
    â”‚                          â”‚                          â”‚
    â”‚                          â”‚ 2. QR ì½”ë“œë¡œ ê°€ì…        â”‚
    â”‚                          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
    â”‚                          â”‚   email + password       â”‚
    â”‚                          â”‚   + QR code              â”‚
    â”‚                          â”‚                          â”‚
    â”‚                          â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚                          â”‚   ì¸ì¦ ì½”ë“œ ë°œê¸‰          â”‚
    â”‚                          â”‚   (6ìë¦¬: 472851)        â”‚
    â”‚                          â”‚   ìƒíƒœ: pending          â”‚
    â”‚                          â”‚                          â”‚
    â”‚ 3. ëŒ€ê¸° ì‚¬ìš©ì ëª©ë¡ í™•ì¸  â”‚                          â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚    email, ì¸ì¦ì½”ë“œ í‘œì‹œ   â”‚                          â”‚
    â”‚                          â”‚                          â”‚
    â”‚ 4. ì¸ì¦ ì½”ë“œ í™•ì¸ í›„ ìŠ¹ì¸ â”‚                          â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
    â”‚    user_id + code        â”‚                          â”‚
    â”‚                          â”‚                          â”‚
    â”‚                          â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚                          â”‚   ìƒíƒœ: active           â”‚
    â”‚                          â”‚   VIP ê¶Œí•œ ë¶€ì—¬          â”‚
    â”‚                          â”‚                          â”‚
    â”‚                          â”‚ 5. ë¡œê·¸ì¸ ê°€ëŠ¥           â”‚
    â”‚                          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
    â”‚                          â”‚                          â”‚
```

### 2.2 ìë™ ì´ˆëŒ€ ì´ë©”ì¼ ì›Œí¬í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     VIP ì„ê³„ê°’ ë„ë‹¬ ì‹œ ìë™ ì´ˆëŒ€                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[ì‹œìŠ¤í…œ]
    â”‚
    â”‚ VIP ìŠ¹ì¸ ì™„ë£Œ
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VIP íšŒì› ìˆ˜ ì²´í¬   â”‚
â”‚ (í˜„ì¬: 10ëª…)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ ì„ê³„ê°’ ë„ë‹¬? (N=10)
    â”‚
    â”œâ”€â”€ No â”€â”€â–º ì¢…ë£Œ
    â”‚
    â””â”€â”€ Yes â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚ vip.threshold_    â”‚
               â”‚ reached ì´ë²¤íŠ¸    â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚ Worker: INVITE_   â”‚
               â”‚ EMAIL íƒœìŠ¤í¬ ìƒì„± â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚ ëŒ€ê¸°ì ëª©ë¡ì—ì„œ    â”‚
               â”‚ ì´ˆëŒ€ ì´ë©”ì¼ ë°œì†¡  â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### 3.1 users í…Œì´ë¸” í™•ì¥

```sql
-- ê¸°ì¡´ users í…Œì´ë¸”ì— VIP ì»¬ëŸ¼ ì¶”ê°€
ALTER TABLE users ADD COLUMN is_vip BOOLEAN DEFAULT FALSE;
ALTER TABLE users ADD COLUMN invited_by UUID REFERENCES users(id);
ALTER TABLE users ADD COLUMN vip_registered_at TIMESTAMP WITH TIME ZONE;
```

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| is_vip | BOOLEAN | VIP ì—¬ë¶€ (ê¸°ë³¸ê°’: FALSE) |
| invited_by | UUID | ì´ˆëŒ€í•œ ì‚¬ìš©ì ID (FK) |
| vip_registered_at | TIMESTAMP | VIP ê°€ì… ìŠ¹ì¸ ì‹œê°„ |

### 3.2 vip_qr_codes í…Œì´ë¸”

```sql
CREATE TABLE vip_qr_codes (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    code VARCHAR(64) UNIQUE NOT NULL,      -- "WSOPTV-VIP-XXXXXXXX"
    created_by UUID NOT NULL REFERENCES users(id),
    max_uses INTEGER DEFAULT 1,             -- NULL = ë¬´ì œí•œ
    current_uses INTEGER DEFAULT 0,
    expires_at TIMESTAMP WITH TIME ZONE,    -- NULL = ë¬´ì œí•œ
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| code | VARCHAR(64) | QR ì½”ë“œ ê°’ (ê³ ìœ ) |
| created_by | UUID | ìƒì„±í•œ ê´€ë¦¬ì ID |
| max_uses | INTEGER | ìµœëŒ€ ì‚¬ìš© íšŸìˆ˜ |
| current_uses | INTEGER | í˜„ì¬ ì‚¬ìš© íšŸìˆ˜ |
| expires_at | TIMESTAMP | ë§Œë£Œ ì¼ì‹œ |
| is_active | BOOLEAN | í™œì„± ìƒíƒœ |

### 3.3 vip_verifications í…Œì´ë¸”

```sql
CREATE TABLE vip_verifications (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    verification_code VARCHAR(6) NOT NULL,  -- 6ìë¦¬ ìˆ«ì
    qr_code VARCHAR(64) NOT NULL,
    verified BOOLEAN DEFAULT FALSE,
    expires_at TIMESTAMP WITH TIME ZONE NOT NULL,  -- 24ì‹œê°„ ìœ íš¨
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| user_id | UUID | ì‚¬ìš©ì ID (FK) |
| verification_code | VARCHAR(6) | 6ìë¦¬ ì¸ì¦ ì½”ë“œ |
| qr_code | VARCHAR(64) | ì‚¬ìš©ëœ QR ì½”ë“œ |
| verified | BOOLEAN | ì¸ì¦ ì™„ë£Œ ì—¬ë¶€ |
| expires_at | TIMESTAMP | ì¸ì¦ ì½”ë“œ ë§Œë£Œ ì‹œê°„ |

### 3.4 vip_invite_settings í…Œì´ë¸”

```sql
CREATE TABLE vip_invite_settings (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    threshold_count INTEGER NOT NULL DEFAULT 10,
    smtp_host VARCHAR(255),
    smtp_port INTEGER DEFAULT 587,
    smtp_user VARCHAR(255),
    smtp_password VARCHAR(255),
    from_email VARCHAR(255),
    invite_template TEXT,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| threshold_count | INTEGER | ìë™ ì´ˆëŒ€ ë°œì†¡ ì„ê³„ê°’ |
| smtp_host | VARCHAR | SMTP ì„œë²„ ì£¼ì†Œ |
| smtp_port | INTEGER | SMTP í¬íŠ¸ |
| smtp_user | VARCHAR | SMTP ì‚¬ìš©ì |
| smtp_password | VARCHAR | SMTP ë¹„ë°€ë²ˆí˜¸ |
| from_email | VARCHAR | ë°œì‹ ì ì´ë©”ì¼ |
| invite_template | TEXT | ì´ˆëŒ€ ì´ë©”ì¼ í…œí”Œë¦¿ |

### 3.5 invite_waitlist í…Œì´ë¸”

```sql
CREATE TABLE invite_waitlist (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    email VARCHAR(255) UNIQUE NOT NULL,
    invited_at TIMESTAMP WITH TIME ZONE,    -- NULL = ë¯¸ë°œì†¡
    registered_at TIMESTAMP WITH TIME ZONE, -- NULL = ë¯¸ê°€ì…
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

### 3.6 ERD

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   users     â”‚     â”‚  vip_qr_codes   â”‚     â”‚ vip_verificationsâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)     â”‚â—„â”€â”€â”€â”€â”‚ created_by (FK) â”‚     â”‚ id (PK)          â”‚
â”‚ email       â”‚     â”‚ id (PK)         â”‚     â”‚ user_id (FK)     â”‚â”€â”€â”€â”€â–º
â”‚ is_vip      â”‚     â”‚ code            â”‚     â”‚ verification_codeâ”‚
â”‚ invited_by  â”‚â”€â”€â”€â”€â–ºâ”‚ max_uses        â”‚     â”‚ qr_code          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ current_uses    â”‚     â”‚ verified         â”‚
                    â”‚ expires_at      â”‚     â”‚ expires_at       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ vip_invite_settingsâ”‚     â”‚ invite_waitlist â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)           â”‚     â”‚ id (PK)         â”‚
â”‚ threshold_count   â”‚     â”‚ email           â”‚
â”‚ smtp_host         â”‚     â”‚ invited_at      â”‚
â”‚ smtp_port         â”‚     â”‚ registered_at   â”‚
â”‚ from_email        â”‚     â”‚ created_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. API ëª…ì„¸

### 4.1 Auth Block API

#### POST /auth/register/vip

QR ì½”ë“œë¡œ VIP íšŒì›ê°€ì…

**Request:**
```json
{
  "email": "user@example.com",
  "password": "securepassword",
  "qr_code": "WSOPTV-VIP-ABC12345"
}
```

**Response (201):**
```json
{
  "user_id": "uuid",
  "email": "user@example.com",
  "status": "pending",
  "verification_code": "472851",
  "message": "ì¸ì¦ ì½”ë“œê°€ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ì ìŠ¹ì¸ í›„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤."
}
```

**Error Responses:**
- 400: QR ì½”ë“œ ë¬´íš¨, ì´ë©”ì¼ ì¤‘ë³µ
- 401: QR ì½”ë“œ ë§Œë£Œ

### 4.2 Admin Block API

#### POST /admin/qr-codes

QR ì½”ë“œ ìƒì„±

**Request:**
```json
{
  "max_uses": 10,
  "expires_days": 30
}
```

**Response (201):**
```json
{
  "id": "uuid",
  "code": "WSOPTV-VIP-ABC12345",
  "max_uses": 10,
  "expires_at": "2025-01-17T00:00:00Z",
  "created_at": "2024-12-18T00:00:00Z"
}
```

#### GET /admin/qr-codes

QR ì½”ë“œ ëª©ë¡ ì¡°íšŒ

**Response:**
```json
{
  "items": [
    {
      "id": "uuid",
      "code": "WSOPTV-VIP-ABC12345",
      "max_uses": 10,
      "current_uses": 3,
      "expires_at": "2025-01-17T00:00:00Z",
      "is_active": true,
      "created_at": "2024-12-18T00:00:00Z"
    }
  ],
  "stats": {
    "total_codes": 5,
    "active_codes": 3,
    "total_uses": 15
  },
  "page": 1,
  "size": 20
}
```

#### DELETE /admin/qr-codes/{code_id}

QR ì½”ë“œ ë¹„í™œì„±í™”

**Response:**
```json
{
  "success": true,
  "message": "QR code deactivated"
}
```

#### GET /admin/vip/pending

ìŠ¹ì¸ ëŒ€ê¸° VIP ì‚¬ìš©ì ëª©ë¡

**Response:**
```json
{
  "items": [
    {
      "user_id": "uuid",
      "email": "user@example.com",
      "verification_code": "472851",
      "qr_code": "WSOPTV-VIP-ABC12345",
      "expires_at": "2024-12-19T00:00:00Z",
      "created_at": "2024-12-18T00:00:00Z"
    }
  ],
  "total": 3
}
```

#### POST /admin/vip/verify

VIP ì¸ì¦ ì½”ë“œ í™•ì¸ ë° ìŠ¹ì¸

**Request:**
```json
{
  "user_id": "uuid",
  "verification_code": "472851"
}
```

**Response:**
```json
{
  "success": true,
  "message": "VIP ì‚¬ìš©ìê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "user": {
    "id": "uuid",
    "email": "user@example.com",
    "status": "active",
    "is_vip": true
  }
}
```

**Error Responses:**
- 400: ì¸ì¦ ì½”ë“œ ë¶ˆì¼ì¹˜, ë§Œë£Œ
- 404: ì‚¬ìš©ì ì—†ìŒ

#### GET /admin/vip/stats

VIP í†µê³„ ì¡°íšŒ

**Response:**
```json
{
  "vip_count": 8,
  "threshold_count": 10,
  "waitlist_count": 25,
  "threshold_reached": false
}
```

#### PUT /admin/vip/settings

VIP ì„¤ì • ìˆ˜ì •

**Request:**
```json
{
  "threshold_count": 10,
  "smtp_host": "smtp.gmail.com",
  "smtp_port": 587,
  "smtp_user": "noreply@wsoptv.local",
  "smtp_password": "password",
  "from_email": "noreply@wsoptv.local",
  "invite_template": "ì´ˆëŒ€ ì´ë©”ì¼ í…œí”Œë¦¿..."
}
```

#### GET /admin/waitlist

ëŒ€ê¸°ì ëª©ë¡ ì¡°íšŒ

**Query Parameters:**
- `page`: í˜ì´ì§€ ë²ˆí˜¸ (ê¸°ë³¸ê°’: 1)
- `size`: í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸ê°’: 20)
- `pending_only`: ë¯¸ë°œì†¡ë§Œ (ê¸°ë³¸ê°’: true)

#### POST /admin/waitlist

ëŒ€ê¸°ì ì¶”ê°€

**Request:**
```json
{
  "email": "waiting@example.com"
}
```

---

## 5. ë¸”ëŸ­ ì•„í‚¤í…ì²˜

### 5.1 ë¸”ëŸ­ ì˜ì¡´ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    QR VIP ë“±ë¡ ì‹œìŠ¤í…œ ë¸”ëŸ­ êµ¬ì¡°                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Wave 1 (L0) - ë¬´ì˜ì¡´
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Auth      â”‚ â—„â”€â”€ VIP ë“±ë¡, ì¸ì¦ ì½”ë“œ ê²€ì¦
â”‚   (í™•ì¥)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Wave 2 (L1) - Auth ì˜ì¡´
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Admin     â”‚     â”‚    Email     â”‚ â—„â”€â”€ ì‹ ê·œ Block
â”‚   (í™•ì¥)     â”‚     â”‚   (ì‹ ê·œ)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    Worker    â”‚ â—„â”€â”€ INVITE_EMAIL TaskType ì¶”ê°€
        â”‚   (í™•ì¥)     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ë©”ì‹œì§€ ë²„ìŠ¤ ì´ë²¤íŠ¸

| ì´ë²¤íŠ¸ | ì†ŒìŠ¤ | ì„¤ëª… |
|--------|------|------|
| `auth.vip_registration_pending` | Auth | VIP ê°€ì… ìš”ì²­ (ìŠ¹ì¸ ëŒ€ê¸°) |
| `auth.vip_approved` | Auth | VIP ìŠ¹ì¸ ì™„ë£Œ |
| `vip.threshold_reached` | Auth | VIP ì„ê³„ê°’ ë„ë‹¬ |
| `email.sent` | Email | ì´ë©”ì¼ ë°œì†¡ ì™„ë£Œ |
| `email.failed` | Email | ì´ë©”ì¼ ë°œì†¡ ì‹¤íŒ¨ |
| `email.bulk_completed` | Email | ëŒ€ëŸ‰ ë°œì†¡ ì™„ë£Œ |
| `worker.task_completed` | Worker | ì›Œì»¤ ì‘ì—… ì™„ë£Œ |

### 5.3 Worker TaskType

```python
class TaskType(str, Enum):
    THUMBNAIL = "THUMBNAIL"
    CACHE_WARM = "CACHE_WARM"
    NAS_SCAN = "NAS_SCAN"
    INVITE_EMAIL = "INVITE_EMAIL"  # ì‹ ê·œ
```

---

## 6. ëª¨ë¸ ì •ì˜

### 6.1 VIPQRCode

```python
@dataclass
class VIPQRCode:
    id: str
    code: str                    # "WSOPTV-VIP-XXXXXXXX"
    created_by: str              # ìƒì„±í•œ ê´€ë¦¬ì ID
    max_uses: Optional[int]      # None = ë¬´ì œí•œ
    current_uses: int
    expires_at: Optional[datetime]
    is_active: bool
    created_at: datetime
```

### 6.2 VIPVerification

```python
@dataclass
class VIPVerification:
    user_id: str
    email: str
    verification_code: str       # 6ìë¦¬ ìˆ«ì
    qr_code: str
    verified: bool
    expires_at: datetime         # 24ì‹œê°„ ìœ íš¨
    created_at: datetime
```

### 6.3 User (í™•ì¥)

```python
@dataclass
class User:
    id: str
    email: str
    hashed_password: str
    status: UserStatus
    is_admin: bool = False
    is_vip: bool = False         # ì‹ ê·œ
    created_at: datetime = None
```

---

## 7. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 7.1 QR ì½”ë“œ

- QR ì½”ë“œëŠ” `secrets.token_hex(8)`ë¡œ ìƒì„± (16ì hex)
- í˜•ì‹: `WSOPTV-VIP-{16ì ëŒ€ë¬¸ì}`
- ì‚¬ìš© íšŸìˆ˜ ë° ë§Œë£Œì¼ ì œí•œ ê°€ëŠ¥

### 7.2 ì¸ì¦ ì½”ë“œ

- 6ìë¦¬ ìˆ«ì (000000 ~ 999999)
- 24ì‹œê°„ ìœ íš¨
- 1íšŒ ì‚¬ìš© í›„ ë¬´íš¨í™”
- ê´€ë¦¬ìë§Œ í™•ì¸/ìŠ¹ì¸ ê°€ëŠ¥

### 7.3 SMTP ë¹„ë°€ë²ˆí˜¸

- DBì— ì•”í˜¸í™” ì €ì¥ ê¶Œì¥
- í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬ ê°€ëŠ¥
- API ì‘ë‹µì—ì„œ ë¹„ë°€ë²ˆí˜¸ ë…¸ì¶œ ê¸ˆì§€ (`has_password: true` í˜•íƒœë¡œ)

---

## 8. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

### 8.1 QR ì½”ë“œ ê²€ì¦

| TC | ì„¤ëª… | ì˜ˆìƒ ê²°ê³¼ |
|----|------|-----------|
| TC-01 | ìœ íš¨í•œ QR ì½”ë“œ ê²€ì¦ | ì„±ê³µ |
| TC-02 | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” QR ì½”ë“œ | ì˜¤ë¥˜: QR code not found |
| TC-03 | ë§Œë£Œëœ QR ì½”ë“œ | ì˜¤ë¥˜: QR code expired |
| TC-04 | ì‚¬ìš© íšŸìˆ˜ ì´ˆê³¼ | ì˜¤ë¥˜: QR code usage limit reached |
| TC-05 | ë¹„í™œì„±í™”ëœ QR ì½”ë“œ | ì˜¤ë¥˜: QR code is inactive |

### 8.2 VIP ë“±ë¡

| TC | ì„¤ëª… | ì˜ˆìƒ ê²°ê³¼ |
|----|------|-----------|
| TC-06 | QR ì½”ë“œë¡œ ê°€ì… | pending ìƒíƒœ, ì¸ì¦ ì½”ë“œ ë°œê¸‰ |
| TC-07 | ì¤‘ë³µ ì´ë©”ì¼ | ì˜¤ë¥˜: Email already exists |
| TC-08 | ì¸ì¦ ì½”ë“œ í™•ì¸ ì„±ê³µ | active ìƒíƒœ ì „í™˜ |
| TC-09 | ì˜ëª»ëœ ì¸ì¦ ì½”ë“œ | ì˜¤ë¥˜: Invalid verification code |
| TC-10 | ë§Œë£Œëœ ì¸ì¦ ì½”ë“œ | ì˜¤ë¥˜: Verification code expired |

### 8.3 ìë™ ì´ˆëŒ€

| TC | ì„¤ëª… | ì˜ˆìƒ ê²°ê³¼ |
|----|------|-----------|
| TC-11 | ì„ê³„ê°’ ë„ë‹¬ | vip.threshold_reached ì´ë²¤íŠ¸ |
| TC-12 | ëŒ€ëŸ‰ ì´ˆëŒ€ ë°œì†¡ | ëŒ€ê¸°ìì—ê²Œ ì´ë©”ì¼ ë°œì†¡ |

---

## 9. ë„¤ë¹„ê²Œì´ì…˜ ë§µ

<table width="100%">
<tr>
<td width="50%" valign="top">

### 9.1 ì‚¬ì´íŠ¸ êµ¬ì¡°

| í˜ì´ì§€ | ê²½ë¡œ | ì ‘ê·¼ ê¶Œí•œ |
|--------|------|-----------|
| VIP ê°€ì… | /register?tab=vip | Public |
| VIP ìŠ¹ì¸ ëŒ€ê¸° | /admin/vip/pending | Admin |
| QR ì½”ë“œ ê´€ë¦¬ | /admin/qr-codes | Admin |
| VIP ì„¤ì • | /admin/vip/settings | Admin |
| ëŒ€ê¸°ì ê´€ë¦¬ | /admin/waitlist | Admin |

</td>
<td width="50%" valign="top">

### 9.2 ì ‘ê·¼ ì œì–´

| í˜ì´ì§€ | ë¹„ë¡œê·¸ì¸ | ë¡œê·¸ì¸ | VIP | Admin |
|--------|----------|--------|-----|-------|
| VIP ê°€ì… | âœ… | âœ… | âŒ | âŒ |
| VIP ìŠ¹ì¸ ëŒ€ê¸° | âŒ | âŒ | âŒ | âœ… |
| QR ì½”ë“œ ê´€ë¦¬ | âŒ | âŒ | âŒ | âœ… |
| VIP ì„¤ì • | âŒ | âŒ | âŒ | âœ… |
| ëŒ€ê¸°ì ê´€ë¦¬ | âŒ | âŒ | âŒ | âœ… |

</td>
</tr>
</table>

<table width="100%">
<tr>
<td width="50%" valign="top">

### 9.3 VIP ê°€ì… íë¦„

```
QR ì½”ë“œ ìˆ˜ë ¹
    â”‚
    â–¼
/register?tab=vip
    â”‚
    â–¼
ì´ë©”ì¼ + ë¹„ë°€ë²ˆí˜¸ + QR ì…ë ¥
    â”‚
    â–¼
ì¸ì¦ ì½”ë“œ ë°œê¸‰ (pending)
    â”‚
    â–¼
ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸°
    â”‚
    â–¼
ìŠ¹ì¸ ì™„ë£Œ â†’ active
    â”‚
    â–¼
ë¡œê·¸ì¸ ê°€ëŠ¥
```

</td>
<td width="50%" valign="top">

### 9.4 ê´€ë¦¬ì íë¦„

```
/admin/qr-codes
    â”‚
    â”œâ”€â”€ [+ ìƒì„±] â†’ QR ì½”ë“œ ìƒì„±
    â”‚
    â””â”€â”€ [ëª©ë¡] â†’ ì‚¬ìš© í˜„í™© í™•ì¸

/admin/vip/pending
    â”‚
    â”œâ”€â”€ ëŒ€ê¸° ì‚¬ìš©ì ëª©ë¡
    â”‚
    â””â”€â”€ [ìŠ¹ì¸] â†’ ì¸ì¦ ì½”ë“œ í™•ì¸
                    â”‚
                    â–¼
              ì‚¬ìš©ì active ì „í™˜

/admin/vip/settings
    â”‚
    â”œâ”€â”€ ì„ê³„ê°’ ì„¤ì • (Nëª…)
    â”‚
    â””â”€â”€ SMTP ì„¤ì •
```

</td>
</tr>
</table>

<table width="100%">
<tr>
<td width="50%" valign="top">

### 9.5 ìë™ ì´ˆëŒ€ íë¦„

```
VIP ìŠ¹ì¸ ì™„ë£Œ
    â”‚
    â–¼
VIP ìˆ˜ ì²´í¬
    â”‚
    â”œâ”€â”€ < Nëª… â†’ ì¢…ë£Œ
    â”‚
    â””â”€â”€ â‰¥ Nëª…
          â”‚
          â–¼
    vip.threshold_reached
          â”‚
          â–¼
    Worker: INVITE_EMAIL
          â”‚
          â–¼
    ëŒ€ê¸°ì ì´ë©”ì¼ ë°œì†¡
```

</td>
<td width="50%" valign="top">

### 9.6 Admin ì‚¬ì´ë“œë°”

| ë©”ë‰´ | ê²½ë¡œ | ì•„ì´ì½˜ |
|------|------|--------|
| ëŒ€ì‹œë³´ë“œ | /admin | ğŸ“Š |
| ì‚¬ìš©ì | /admin/users | ğŸ‘¥ |
| **QR ì½”ë“œ** | /admin/qr-codes | ğŸ”— |
| **VIP ìŠ¹ì¸** | /admin/vip/pending | â³ |
| **VIP ì„¤ì •** | /admin/vip/settings | âš™ï¸ |
| **ëŒ€ê¸°ì** | /admin/waitlist | ğŸ“‹ |
| ìŠ¤íŠ¸ë¦¼ | /admin/streams | ğŸ“º |
| ì‹œìŠ¤í…œ | /admin/system | ğŸ–¥ï¸ |

</td>
</tr>
</table>

---

## 10. UI ì™€ì´ì–´í”„ë ˆì„ (Frontend)

### 10.1 Admin - QR ì½”ë“œ ê´€ë¦¬ í˜ì´ì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QR ì½”ë“œ ê´€ë¦¬                                    [+ ìƒì„±]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ í†µê³„                                                 â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚  â”‚ â”‚ ì „ì²´: 5   â”‚ â”‚ í™œì„±: 3   â”‚ â”‚ ì´ ì‚¬ìš©: 15â”‚          â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ QR ì½”ë“œ ëª©ë¡                                         â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ ì½”ë“œ               â”‚ ì‚¬ìš©  â”‚ ë§Œë£Œì¼     â”‚ ìƒíƒœ  â”‚ ì•¡ì…˜â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ WSOPTV-VIP-ABC123 â”‚ 3/10  â”‚ 2025-01-17 â”‚ í™œì„±  â”‚ [ë¹„í™œì„±í™”]â”‚
â”‚  â”‚ WSOPTV-VIP-DEF456 â”‚ 5/5   â”‚ 2025-02-01 â”‚ ë§Œë£Œ  â”‚ -  â”‚
â”‚  â”‚ WSOPTV-VIP-GHI789 â”‚ 0/âˆ   â”‚ ì—†ìŒ       â”‚ í™œì„±  â”‚ [ë¹„í™œì„±í™”]â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.2 Admin - VIP ìŠ¹ì¸ ëŒ€ê¸° í˜ì´ì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VIP ìŠ¹ì¸ ëŒ€ê¸°                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ëŒ€ê¸° ì¤‘: 3ëª…                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ì´ë©”ì¼              â”‚ ì¸ì¦ì½”ë“œ â”‚ QR ì½”ë“œ  â”‚ ë§Œë£Œ    â”‚ ì•¡ì…˜    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ user1@example.com  â”‚ 472851   â”‚ ...ABC123â”‚ 23:45:00â”‚ [ìŠ¹ì¸]  â”‚
â”‚  â”‚ user2@example.com  â”‚ 193847   â”‚ ...DEF456â”‚ 12:30:00â”‚ [ìŠ¹ì¸]  â”‚
â”‚  â”‚ user3@example.com  â”‚ 582910   â”‚ ...ABC123â”‚ 05:15:00â”‚ [ìŠ¹ì¸]  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.3 Register - VIP ê°€ì… í˜ì´ì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         WSOPTV                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   [ì¼ë°˜ ê°€ì…]  [VIP ê°€ì…]                                   â”‚
â”‚                 â”€â”€â”€â”€â”€â”€â”€â”€â”€                                   â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ QR ì½”ë“œ *                                          â”‚    â”‚
â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚   â”‚ â”‚ WSOPTV-VIP-                                  â”‚   â”‚    â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ ì´ë©”ì¼ *                                           â”‚    â”‚
â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚   â”‚ â”‚ email@example.com                            â”‚   â”‚    â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ ë¹„ë°€ë²ˆí˜¸ *                                         â”‚    â”‚
â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚   â”‚ â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                                     â”‚   â”‚    â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚              [ VIP ê°€ì… ì‹ ì²­ ]                     â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚   ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? [ë¡œê·¸ì¸]                          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 11. êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: ë°ì´í„°ë² ì´ìŠ¤
- [ ] users í…Œì´ë¸”ì— is_vip, invited_by, vip_registered_at ì»¬ëŸ¼ ì¶”ê°€
- [ ] vip_qr_codes í…Œì´ë¸” ìƒì„±
- [ ] vip_verifications í…Œì´ë¸” ìƒì„±
- [ ] vip_invite_settings í…Œì´ë¸” ìƒì„±
- [ ] invite_waitlist í…Œì´ë¸” ìƒì„±
- [ ] ì¸ë±ìŠ¤ ìƒì„±

### Phase 2: Auth Block
- [ ] VIPQRCode ëª¨ë¸ ì¶”ê°€
- [ ] VIPVerification ëª¨ë¸ ì¶”ê°€
- [ ] User ëª¨ë¸ì— is_vip í•„ë“œ ì¶”ê°€
- [ ] validate_qr_code() ë©”ì„œë“œ êµ¬í˜„
- [ ] register_with_qr() ë©”ì„œë“œ êµ¬í˜„
- [ ] verify_vip_code() ë©”ì„œë“œ êµ¬í˜„
- [ ] get_pending_vip_users() ë©”ì„œë“œ êµ¬í˜„
- [ ] /auth/register/vip ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€

### Phase 3: Admin Block
- [ ] QRCodeService í´ë˜ìŠ¤ ìƒì„±
- [ ] create_qr_code() êµ¬í˜„
- [ ] list_qr_codes() êµ¬í˜„
- [ ] deactivate_qr_code() êµ¬í˜„
- [ ] get_vip_stats() êµ¬í˜„
- [ ] update_vip_settings() êµ¬í˜„
- [ ] QR ì½”ë“œ ê´€ë¦¬ ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
- [ ] VIP ìŠ¹ì¸ ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€

### Phase 4: Email Block
- [ ] EmailMessage ëª¨ë¸ ìƒì„±
- [ ] SMTPConfig ëª¨ë¸ ìƒì„±
- [ ] EmailService í´ë˜ìŠ¤ ìƒì„±
- [ ] send_email() êµ¬í˜„
- [ ] send_invite_email() êµ¬í˜„
- [ ] send_bulk_invites() êµ¬í˜„

### Phase 5: Worker Block
- [ ] INVITE_EMAIL TaskType ì¶”ê°€
- [ ] InviteSenderWorker í´ë˜ìŠ¤ ìƒì„±
- [ ] WorkerServiceì— ì›Œì»¤ ë“±ë¡

### Phase 6: íŠ¸ë¦¬ê±° ì—°ë™
- [ ] vip.threshold_reached ì´ë²¤íŠ¸ êµ¬ë…
- [ ] ìë™ ì´ˆëŒ€ ì´ë©”ì¼ ë°œì†¡ ë¡œì§

### Phase 7: Frontend
- [ ] /admin/qr-codes í˜ì´ì§€
- [ ] /admin/vip í˜ì´ì§€
- [ ] /register í˜ì´ì§€ VIP íƒ­ ì¶”ê°€

### Phase 8: í…ŒìŠ¤íŠ¸
- [ ] test_vip_registration.py (15+ í…ŒìŠ¤íŠ¸)
- [ ] test_email_block.py

---

## 12. ë³€ê²½ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ì‘ì„±ì | ë³€ê²½ ë‚´ìš© |
|------|------|--------|-----------|
| 0.1 | 2025-12-18 | Claude | ì´ˆì•ˆ ì‘ì„± |
| 0.2 | 2025-12-18 | Claude | ë„¤ë¹„ê²Œì´ì…˜ ë§µ ì„¹ì…˜ ì¶”ê°€ (2ì—´ ë ˆì´ì•„ì›ƒ) |
